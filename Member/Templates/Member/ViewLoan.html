<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form method="post" action="" id="loanform" data-loan-url="{% url 'Member:ajaxloan'%}">
        {% csrf_token %}
        <table border="1"cellpadding="10" align="center">
            <tr>
                <td>loan</td>
                <td><select name="select_scheme" id="sel_sch">
                <option>--select--</option>
                {% for i in disdata %}
                    <option value="{{ i.id }}">{{ i.loan_name }}</option>
                    {% endfor %}
                </select></td>
            </tr>
        </table>
        <br><br><br><br>
        <table align="center"  style="margin-bottom: 200px;" id="loan">
            <tr>
                {% for i in subcat %}
                <td>
                    <div style="border:1px solid black;margin:20px;padding:10px">
                      <p>loan Name : {{i.loan_name}}</p>
                       <p>loan Details : {{i.loan_details}}</p>
                       <p>loan Type : {{i.loan_type.loan_name}}</p>
                       <a href="{% url 'Member:LoanApply' i.id %}">apply</a><br>
                       
                           </div>
        </td>
        {% if forloop.counter|divisibleby:4 %}
        </tr>
        <tr>

            {% endif %}
            {% endfor %}
            </table>
    </form>
</body>
</html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        $("#sel_sch").change(function () {
            var did = $(this).val();
            var ur = $("#loanform").attr("data-loan-url");
            $.ajax({
                url: ur,
                data: { sch: did, },
                success: function (data) {
                    $("#loan").html(data);
                },
            });
        });
</script>